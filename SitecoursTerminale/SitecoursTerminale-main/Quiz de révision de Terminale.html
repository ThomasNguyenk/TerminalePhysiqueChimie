<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRQphyk9ejUn8W2sQ9h9tofy5rNyUdzq-5HSA&s">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<title>Quiz de R√©vision ‚Äì Terminale</title>

<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

<style>
:root { --text: white; }

body {
    font-family:'Poppins',system-ui,sans-serif;
    margin:0;
    color: var(--text);
    padding: 40px 20px 40px 20px; /* R√©duction du padding-top car le header est supprim√© */
    /* Utilis√© une image de fond g√©n√©rique pour l'exemple */
    background: url('https://img.freepik.com/photos-gratuite/rendu-3d-lumieres-techno-science-fiction-futuristes-creant-formes-cool-fond-cool_181624-32814.jpg') center/cover fixed;
    min-height:100vh;
}

/* Quiz container */
#quiz-container {
    max-width: 800px;
    background: #141a35;
    margin: 30px auto;
    padding: 25px;
    border-radius: 10px;
    border: 1px solid #00d9ff;
}

/* Question cards */
.question {
    margin-bottom: 20px;
    padding: 15px;
    background: #1d244a;
    border: 1px solid #00d9ff;
    border-radius: 8px;
}

.question h3 {
    color: #00d9ff;
}

/* Options radio buttons */
.question label {
    display: block;
    margin: 5px 0;
}

/* Buttons */
button {
    background: #00d9ff;
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    margin-top: 15px;
    transition: background 0.3s;
}

button:hover {
    background: #009fcc;
}

/* R√©sultats */
#resultats table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    color: #000; 
    background-color: #f8f9fa;
}

#resultats table, #resultats th, #resultats td {
    border: 1px solid #dee2e6;
}

#resultats th {
    background: #e9ecef;
    padding: 10px;
    color: #343a40;
}

#resultats td {
    padding: 8px;
    /* Style par d√©faut pour les cellules de r√©sultats, sera √©cras√© par celluleStyle */
    background: #ffffff;
    color: #343a40;
}
</style>
</head>

<body>
<div id="app">
<div id="quiz-container">
    <h1>Quiz de R√©vision ‚Äì 1√®re Ann√©e</h1>
    <p>R√©ponds √† toutes les questions puis clique sur ‚ÄúValider‚Äù.</p>

    <div v-if="questions.length > 0">
        <div v-for="(q, index) in questions" :key="index" class="question">
            <h3>Q{{ index+1 }}. {{ q.text }}</h3>

            <label 
                v-for="(opt, optIndex) in q.optionsMelangees"
                :key="optIndex"
            >
                <input 
                    type="radio"
                    :name="'q'+index"
                    :value="opt.originalIndex"
                    v-model="reponses[index]"
                >
                {{ opt.text }}
                <span></span>
            </label>
        </div>

        <button @click="corrigerQuiz()">Valider mes r√©ponses</button>
    </div>
    <div v-else>
        <p>Chargement des questions...</p>
    </div>

    <div id="resultats" v-if="resultatsVisible">
        <h2>R√©sultats</h2>
        <p style="color: #00d9ff; font-size: 1.1em;">
            Score final : <strong>{{ scoreFinal }} / {{ questions.length }}</strong>
        </p>

        <table>
            <thead>
                <tr>
                    <th>Question</th>
                    <th>Votre r√©ponse</th>
                    <th>Bonne r√©ponse</th>
                    <th>Statut</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(q,i) in questions" :key="i">
                    <td>{{ q.text }}</td>
                    <td>{{ texteReponseEleve(i) }}</td>
                    <td>{{ q.options[q.answer] }}</td>
                    <td :style="celluleStyle(i)">
                        {{ reponses[i] == q.answer ? '‚úî Correct' : '‚úò Incorrect' }}
                    </td>
                </tr>
            </tbody>
        </table>

        <p style="color: #00d9ff; font-size: 1.1em;">
            Commentaire : <strong>{{ commentaireGlobal }}</strong>
        </p>

        <button @click="genererPDF()">G√©n√©rer le PDF</button>
    </div>
</div>
</div>


<script>
// Le JSON des questions a √©t√© ins√©r√© dans le code pour √©viter le besoin de fetch()
const questionData = {
  "mecanique": [
    {
      "text": "Quelle est l'unit√© de la force dans le SI ?",
      "options": [
        "Newton",
        "Joule",
        "Watt",
        "Pascal"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "La vitesse est la d√©riv√©e de quelle grandeur ?",
      "options": [
        "Position",
        "Acc√©l√©ration",
        "Force",
        "√ânergie"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "L'acc√©l√©ration d'un corps est proportionnelle √† la force et inversement proportionnelle √† sa masse. Qui a formul√© cette loi ?",
      "options": [
        "Newton",
        "Einstein",
        "Galil√©e",
        "Archim√®de"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Une masse de 2 kg est soumise √† une force de 10 N. Quelle est son acc√©l√©ration ?",
      "options": [
        "2 m/s¬≤",
        "5 m/s¬≤",
        "10 m/s¬≤",
        "20 m/s¬≤"
      ],
      "answer": 1,
      "difficulty": "moyen"
    },
    {
      "text": "Quelle est l'√©nergie cin√©tique d'un objet de masse m et de vitesse v ?",
      "options": [
        "m*v",
        "1/2*m*v¬≤",
        "m*v¬≤",
        "2*m*v¬≤"
      ],
      "answer": 1,
      "difficulty": "facile"
    },
    {
      "text": "Qu'est-ce que l'inertie ?",
      "options": [
        "R√©sistance au changement de mouvement",
        "Force",
        "√ânergie",
        "Vitesse"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "MRUA signifie ?",
      "options": [
        "Mouvement rectiligne uniforme acc√©l√©r√©",
        "Mouvement circulaire",
        "Force nulle",
        "Acc√©l√©ration variable"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Relation fr√©quence et p√©riode ?",
      "options": [
        "f=T",
        "f=1/T",
        "f*T",
        "f+T"
      ],
      "answer": 1,
      "difficulty": "facile"
    },
    {
      "text": "Moment d'une force ?",
      "options": [
        "M=F*d",
        "M=F/d",
        "M=d/F",
        "M=F+d"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Diff√©rence entre vecteur vitesse et acc√©l√©ration ?",
      "options": [
        "Direction et grandeur",
        "M√™me chose",
        "Seulement grandeur",
        "Pas de diff√©rence"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu'appelle-t-on poids d'un corps ?",
      "options": [
        "Force gravitationnelle",
        "Masse multipli√©e par vitesse",
        "√ânergie potentielle",
        "R√©sistance au mouvement"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Quelle est la formule de l'acc√©l√©ration moyenne ?",
      "options": [
        "Œîv/Œît",
        "v√ót",
        "v/t¬≤",
        "t/Œîv"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Deuxi√®me loi de Newton ?",
      "options": [
        "F=ma",
        "F=G√ó(m1√óm2)/r¬≤",
        "E=mc¬≤",
        "P=F/A"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√ânergie potentielle gravitationnelle ?",
      "options": [
        "Ep=¬Ωmv¬≤",
        "Ep=mgh",
        "Ep=mv¬≤",
        "Ep=mg"
      ],
      "answer": 1,
      "difficulty": "facile"
    },
    {
      "text": "D√©finition du travail d'une force ?",
      "options": [
        "W=F*d",
        "W=F/d",
        "W=F+d",
        "W=F¬≤*d"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu'est-ce que la vitesse instantan√©e ?",
      "options": [
        "Vitesse √† un instant pr√©cis",
        "Vitesse moyenne",
        "Distance parcourue",
        "Acc√©l√©ration"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Un corps en mouvement rectiligne uniforme a :",
      "options": [
        "Acc√©l√©ration nulle",
        "Vitesse constante",
        "Force nulle",
        "√ânergie nulle"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Loi de la conservation de la quantit√© de mouvement ?",
      "options": [
        "p=constante",
        "F=ma",
        "E=mc¬≤",
        "v=Œîx/Œît"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "√ânergie m√©canique totale ?",
      "options": [
        "E=Ec+Ep",
        "E=F*d",
        "E=¬Ωmv¬≤",
        "E=mgh"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Rapport vitesse et rayon dans un mouvement circulaire uniforme ?",
      "options": [
        "v=œâ*r",
        "v=r/œâ",
        "v=œâ/r",
        "v=2œÄr"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu'est-ce que la friction cin√©tique ?",
      "options": [
        "Force oppos√©e au mouvement",
        "Force qui acc√©l√®re",
        "√ânergie stock√©e",
        "Vitesse changeante"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Deux forces oppos√©es et √©gales cr√©ent :",
      "options": [
        "√âquilibre",
        "Acc√©l√©ration",
        "Rotation",
        "Travail"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Comment s'appelle la trajectoire d'un objet en chute libre ?",
      "options": [
        "Parabolique",
        "Rectiligne",
        "Circulaire",
        "Zigzag"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Loi des moments ?",
      "options": [
        "Œ£M=0",
        "F=ma",
        "E=mc¬≤",
        "p=mv"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Quel est le centre de gravit√© d'un objet ?",
      "options": [
        "Point d'application de la gravit√©",
        "Point de rotation",
        "Point d'√©nergie",
        "Masse nulle"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Qu'appelle-t-on impulsion d'une force ?",
      "options": [
        "J=F*Œît",
        "J=F/Œît",
        "J=F+Œît",
        "J=Œît/F"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "√ânergie potentielle √©lastique ?",
      "options": [
        "1/2*k*x¬≤",
        "mgh",
        "¬Ω*mv¬≤",
        "F*d"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Formule de la vitesse finale dans une chute libre ?",
      "options": [
        "v=‚àö(2gh)",
        "v=gh",
        "v=¬Ωgh¬≤",
        "v=g/h"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Quelle grandeur reste constante dans un pendule simple id√©al ?",
      "options": [
        "√ânergie m√©canique",
        "Vitesse instantan√©e",
        "Amplitude",
        "Acc√©l√©ration"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu'est-ce que la tension ?",
      "options": [
        "Force appliqu√©e sur un fil",
        "√ânergie",
        "Masse",
        "Vitesse"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Qu'appelle-t-on moment d'inertie ?",
      "options": [
        "R√©partition de la masse par rapport √† un axe",
        "Force",
        "Vitesse",
        "√ânergie"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Loi de Hooke ?",
      "options": [
        "F=-k*x",
        "E=mc¬≤",
        "F=ma",
        "p=mv"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Qu'est-ce qu'un oscillateur harmonique ?",
      "options": [
        "Mouvement p√©riodique",
        "Force constante",
        "√ânergie nulle",
        "Vitesse nulle"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu'appelle-t-on fr√©quence ?",
      "options": [
        "Nombre de cycles par seconde",
        "Vitesse moyenne",
        "Acc√©l√©ration",
        "Distance parcourue"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Formule de la p√©riode d'un pendule ?",
      "options": [
        "T=2œÄ‚àö(L/g)",
        "T=L/g",
        "T=‚àö(g/L)",
        "T=2œÄg/L"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Quelle force maintient un objet en orbite ?",
      "options": [
        "Centrip√®te",
        "Centrifuge",
        "Gravitation",
        "Friction"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Qu'appelle-t-on √©nergie dissip√©e ?",
      "options": [
        "√ânergie perdue sous forme de chaleur",
        "√ânergie cin√©tique",
        "√ânergie potentielle",
        "Travail m√©canique"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu'est-ce que le rendement d'un syst√®me ?",
      "options": [
        "Rapport √©nergie utile/√©nergie d√©pens√©e",
        "√ânergie totale",
        "Vitesse moyenne",
        "Force appliqu√©e"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Unit√© du moment d'une force ?",
      "options": [
        "N¬∑m",
        "Joule",
        "Watt",
        "Pascal"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Vitesse angulaire ?",
      "options": [
        "œâ=Œ∏/t",
        "œâ=Œ∏*t",
        "œâ=Œ∏+1",
        "œâ=Œ∏-1"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu'est-ce que le centre de masse ?",
      "options": [
        "Point moyen de la masse",
        "Point de force",
        "Point de vitesse",
        "Point √©nerg√©tique"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Loi gravitationnelle ?",
      "options": [
        "F=G*m1*m2/r¬≤",
        "F=ma",
        "E=mc¬≤",
        "p=mv"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Travail d'une force constante ?",
      "options": [
        "W=F*d*cosŒ∏",
        "W=F*d",
        "W=F/d",
        "W=F¬≤*d"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Vitesse tangentielle ?",
      "options": [
        "v=r*œâ",
        "v=œâ/r",
        "v=r/œâ",
        "v=2œÄr"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "√ânergie m√©canique conserv√©e dans un syst√®me isol√© ?",
      "options": [
        "Oui",
        "Non",
        "Parfois",
        "Seulement si forces nulles"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Force r√©sultante ?",
      "options": [
        "Somme vectorielle des forces",
        "Force maximale",
        "Force moyenne",
        "Force appliqu√©e"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Un objet lanc√© verticalement atteint vitesse nulle en ?",
      "options": [
        "Sommet",
        "Milieu",
        "D√©but",
        "Fin"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Principe de Pascal ?",
      "options": [
        "Pression transmise int√©gralement",
        "Force √©gale",
        "√ânergie conserve",
        "Vitesse constante"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Principe d'Archim√®de ?",
      "options": [
        "Pouss√©e √©gale au poids du fluide d√©plac√©",
        "Force √©gale",
        "√ânergie conserve",
        "Vitesse constante"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Mouvement sous force constante ?",
      "options": [
        "MRUA",
        "MRU",
        "Chute libre",
        "Oscillation"
      ],
      "answer": 0,
      "difficulty": "facile"
    }
  ],
  "electricite": [
    {
      "text": "Quel est l'unit√© de la tension √©lectrique ?",
      "options": [
        "Volt",
        "Amp√®re",
        "Ohm",
        "Watt"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Quel instrument mesure le courant √©lectrique ?",
      "options": [
        "Voltm√®tre",
        "Amp√®rem√®tre",
        "Ohmm√®tre",
        "Oscilloscope"
      ],
      "answer": 1,
      "difficulty": "facile"
    },
    {
      "text": "Loi d'Ohm ?",
      "options": [
        "U=R*I",
        "F=ma",
        "E=mc¬≤",
        "p=mv"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Deux r√©sistances identiques en s√©rie, Rtot ?",
      "options": [
        "R/2",
        "R",
        "2R",
        "R¬≤"
      ],
      "answer": 2,
      "difficulty": "moyen"
    },
    {
      "text": "Formule puissance √©lectrique ?",
      "options": [
        "P=U*I",
        "P=U/I",
        "P=I/U",
        "P=R*I"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Charge d'un √©lectron ?",
      "options": [
        "-1,602√ó10^-19 C",
        "0",
        "+1,602√ó10^-19 C",
        "Variable"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Conducteurs et isolants ?",
      "options": [
        "Cuivre et bois",
        "Fer et plastique",
        "Aluminium et verre",
        "Argent et air"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Loi de Coulomb ?",
      "options": [
        "F=k*q1*q2/r¬≤",
        "F=ma",
        "F=U*I",
        "F=R*I"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Tension vs courant ?",
      "options": [
        "Tension=diff potentiel",
        "M√™me",
        "Courant=diff potentiel",
        "Aucune"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√ânergie stock√©e dans un condensateur ?",
      "options": [
        "E=¬ΩCV¬≤",
        "E=CV¬≤",
        "E=¬ΩCV",
        "E=CV"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Un circuit en s√©rie a-t-il le m√™me courant partout ?",
      "options": [
        "Oui",
        "Non",
        "Parfois",
        "Seulement sur un conducteur"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Un circuit en parall√®le a-t-il la m√™me tension sur chaque branche ?",
      "options": [
        "Oui",
        "Non",
        "Parfois",
        "Seulement si r√©sistances √©gales"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Intensit√© du courant I = ?",
      "options": [
        "I=Q/t",
        "I=U/R",
        "I=P/U",
        "I=R/U"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "R√©sistance √©quivalente de deux r√©sistances en parall√®le R1 et R2 ?",
      "options": [
        "R1+R2",
        "R1*R2/(R1+R2)",
        "R1/R2",
        "R1¬≤+R2¬≤"
      ],
      "answer": 1,
      "difficulty": "moyen"
    },
    {
      "text": "Un fil √©lectrique id√©al est-il conducteur parfait ?",
      "options": [
        "Oui",
        "Non",
        "Parfois",
        "Seulement √† basse temp√©rature"
      ],
      "answer": 1,
      "difficulty": "moyen"
    },
    {
      "text": "√ânergie dissip√©e dans une r√©sistance ?",
      "options": [
        "E=R*I¬≤*t",
        "E=¬ΩR*I¬≤*t",
        "E=R/I",
        "E=I¬≤/R"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Puissance dissip√©e dans une r√©sistance R par un courant I ?",
      "options": [
        "P=R*I¬≤",
        "P=I¬≤/R",
        "P=R/I",
        "P=R*I"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Un √©lectroaimant fonctionne gr√¢ce √† ?",
      "options": [
        "Courant √©lectrique",
        "Champ magn√©tique",
        "Gravit√©",
        "Force centrifuge"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Champ magn√©tique autour d‚Äôun fil parcouru par un courant ?",
      "options": [
        "Circulaire autour du fil",
        "Rectiligne",
        "Parall√®le au fil",
        "Aucun"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Loi de Lenz ?",
      "options": [
        "Sens du courant induit s‚Äôoppose au changement",
        "Sens du courant toujours positif",
        "Courant constant",
        "Tension nulle"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Inductance ?",
      "options": [
        "L = flux/variation courant",
        "L = R*I",
        "L = U*I",
        "L = Q/V"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Un transformateur √©l√©vateur augmente ?",
      "options": [
        "Tension",
        "Courant",
        "R√©sistance",
        "Puissance"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Un transformateur abaisseur diminue ?",
      "options": [
        "Tension",
        "Courant",
        "R√©sistance",
        "Puissance"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Un circuit RC en charge, tension aux bornes du condensateur ?",
      "options": [
        "V=V0*(1-e^(-t/RC))",
        "V=V0*t",
        "V=V0/RC",
        "V=V0*RC"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Un circuit RL en d√©charge, courant ?",
      "options": [
        "I=I0*e^(-R/L*t)",
        "I=I0*t",
        "I=I0*R/L",
        "I=I0*L/R"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Superposition des courants dans un noeud ?",
      "options": [
        "Œ£I entrant = Œ£I sortant",
        "Œ£I=0",
        "I constant",
        "I d√©pend du temps"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Unit√©s de la capacit√© C ?",
      "options": [
        "Farad",
        "Volt",
        "Amp√®re",
        "Ohm"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Charge Q = ?",
      "options": [
        "Q=C*U",
        "Q=I*R",
        "Q=U/I",
        "Q=R*I"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√ânergie potentielle d‚Äôun condensateur ?",
      "options": [
        "E=¬ΩC*U¬≤",
        "E=C*U¬≤",
        "E=U¬≤/2C",
        "E=C/U"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Courant alternatif (AC) fr√©quence ?",
      "options": [
        "50 Hz en Europe",
        "60 Hz en Europe",
        "50 kHz",
        "60 kHz"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Courant continu (DC) tension ?",
      "options": [
        "Constante",
        "Variable",
        "Sinuso√Ødale",
        "Exponentielle"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Imp√©dance Z d‚Äôun circuit RL ?",
      "options": [
        "Z=‚àö(R¬≤+(œâL)¬≤)",
        "Z=R+L",
        "Z=R/L",
        "Z=R*L"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Imp√©dance Z d‚Äôun circuit RC ?",
      "options": [
        "Z=‚àö(R¬≤+(1/œâC)¬≤) ",
        "Z=R+C",
        "Z=R/C",
        "Z=R*C"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Formule du courant alternatif efficace ?",
      "options": [
        "Ieff=I0/‚àö2",
        "Ieff=I0",
        "Ieff=2*I0",
        "Ieff=‚àö2*I0"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Puissance moyenne AC ?",
      "options": [
        "P=Ueff*Ieff*cosœÜ",
        "P=U*I",
        "P=R*I¬≤",
        "P=¬Ω*U0*I0"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Ph√©nom√®ne self-inductif ?",
      "options": [
        "Variation du courant cr√©e tension oppos√©e",
        "Augmente r√©sistance",
        "Diminue tension",
        "Rien"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Courant de fuite d‚Äôun condensateur ?",
      "options": [
        "Tr√®s faible",
        "√âlev√©",
        "Nul",
        "Variable"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Oscilloscope mesure ?",
      "options": [
        "Tension en fonction du temps",
        "Courant",
        "R√©sistance",
        "Puissance"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Intensit√© maximale d‚Äôun AC ?",
      "options": [
        "Imax",
        "Ieff",
        "Imin",
        "I0/2"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Facteur de puissance cosœÜ = ?",
      "options": [
        "P/S",
        "I*U",
        "R/L",
        "U/I"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Pont de Wheatstone sert √† ?",
      "options": [
        "Mesurer r√©sistance",
        "Mesurer courant",
        "Mesurer tension",
        "Mesurer puissance"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Effet Joule ?",
      "options": [
        "Dissipation thermique par courant",
        "Magn√©tisme",
        "Chute de tension",
        "Stockage √©nergie"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Conductivit√© √©lectrique œÉ ?",
      "options": [
        "Inverse r√©sistance sp√©cifique",
        "Direct r√©sistance",
        "Tension/courant",
        "R*I"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "R√©seau triphas√© tension ?",
      "options": [
        "Tension phase-phase ‚àö3 fois phase-neutre",
        "M√™me",
        "Moins",
        "Variable"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Circuit RL s√©rie phase ?",
      "options": [
        "Courant en retard sur tension",
        "Courant en avance",
        "M√™me phase",
        "Ind√©pendant"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Circuit RC s√©rie phase ?",
      "options": [
        "Courant en avance sur tension",
        "Courant en retard",
        "M√™me phase",
        "Ind√©pendant"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Oscillateur LC fr√©quence ?",
      "options": [
        "f=1/(2œÄ‚àö(LC))",
        "f=L/C",
        "f=LC",
        "f=2œÄ‚àö(LC)"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Diode permet ?",
      "options": [
        "Courant dans un seul sens",
        "Courant constant",
        "Courant alternatif",
        "R√©sistance nulle"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Transistor NPN sert √† ?",
      "options": [
        "Amplifier ou commuter",
        "Mesurer",
        "Stocker charge",
        "Transformer tension"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "R√©sistance interne d‚Äôune pile ?",
      "options": [
        "Cause chute de tension",
        "Aucune influence",
        "Diminue √©nergie",
        "Augmente courant"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Courant de court-circuit ?",
      "options": [
        "Tr√®s √©lev√©",
        "Tr√®s faible",
        "Nul",
        "Variable"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Fusible prot√®ge ?",
      "options": [
        "Circuit contre surintensit√©",
        "Tension",
        "R√©sistance",
        "Puissance"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√âlectricit√© statique ?",
      "options": [
        "Accumulation charges immobiles",
        "Courant",
        "Tension",
        "R√©sistance"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Induction √©lectromagn√©tique ?",
      "options": [
        "Courant induit par champ magn√©tique variable",
        "Courant constant",
        "Courant alternatif",
        "Tension constante"
      ],
      "answer": 0,
      "difficulty": "moyen"
    }
  ],
  "atomes": [
    {
      "text": "Nombre de protons dans un atome d'oxyg√®ne ?",
      "options": [
        "6",
        "8",
        "16",
        "12"
      ],
      "answer": 1,
      "difficulty": "facile"
    },
    {
      "text": "Un ion positif est appel√© ?",
      "options": [
        "Cation ",
        "Anion",
        "Neutron",
        "Proton"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√âlectron de valence est ?",
      "options": [
        "Dans le noyau",
        "Dans la couche externe",
        "Toujours un proton",
        "Ind√©termin√©"
      ],
      "answer": 1,
      "difficulty": "moyen"
    },
    {
      "text": "Symbole Na ?",
      "options": [
        "Sodium",
        "Neon",
        "Nickel",
        "Azote"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Gaz nobles ?",
      "options": [
        "Inertes",
        "R√©actifs",
        "M√©taux",
        "Liquides"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Nombre de neutrons dans le carbone 12 ?",
      "options": [
        "6",
        "12",
        "14",
        "8"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Nombre de protons dans le fer ?",
      "options": [
        "26",
        "56",
        "30",
        "28"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Isotope d‚Äôun √©l√©ment ?",
      "options": [
        "M√™me nombre de protons, diff√©rent nombre de neutrons",
        "M√™me neutrons, diff√©rent protons",
        "Diff√©rents √©lectrons",
        "Diff√©rents √©l√©ments"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Masse atomique relative ?",
      "options": [
        "Moyenne des masses isotopiques",
        "Masse d‚Äôun proton",
        "Masse d‚Äôun √©lectron",
        "Masse du neutron"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "√âlectron = charge ?",
      "options": [
        "-1,602√ó10^-19 C",
        "+1,602√ó10^-19 C",
        "0",
        "Variable"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Nombre de protons de l‚Äôhydrog√®ne ?",
      "options": [
        "1",
        "2",
        "0",
        "3"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Nombre d‚Äô√©lectrons d‚Äôun atome neutre ?",
      "options": [
        "√âgal au nombre de protons",
        "Toujours 8",
        "Toujours 0",
        "Toujours 1"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Qu‚Äôest-ce qu‚Äôun anion ?",
      "options": [
        "Ion n√©gatif ",
        "Ion positif",
        "√âlectron",
        "Proton"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Structure atomique de Bohr ?",
      "options": [
        "Noyau + √©lectrons en couches",
        "Noyau seul",
        "√âlectrons libres",
        "Neutrons mobiles"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Charge proton ?",
      "options": [
        "+1,602√ó10^-19 C",
        "-1,602√ó10^-19 C",
        "0",
        "Variable"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Quel √©l√©ment a 2 √©lectrons de valence ?",
      "options": [
        "Calcium",
        "Oxyg√®ne",
        "Chlore",
        "Hydrog√®ne"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√âlectron c√©libataire ?",
      "options": [
        "Non appari√© dans la couche externe",
        "Toujours dans le noyau",
        "Toujours appari√©",
        "Neutre"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "R√®gle de l‚Äôoctet ?",
      "options": [
        "√âtat stable avec 8 √©lectrons de valence",
        "Toujours 8 neutrons",
        "Toujours 8 protons",
        "Toujours 8 √©lectrons totaux"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Qu‚Äôest-ce que le num√©ro atomique ?",
      "options": [
        "Nombre de protons",
        "Nombre de neutrons",
        "Nombre d‚Äô√©lectrons",
        "Masse totale"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Qu‚Äôest-ce que le nombre de masse ?",
      "options": [
        "Protons + neutrons",
        "√âlectrons seulement",
        "Neutrons seulement",
        "Protons seulement"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√ânergie d‚Äôun √©lectron dans un atome ?",
      "options": [
        "Quantifi√©e",
        "Continue",
        "Variable al√©atoire",
        "Toujours nulle"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Couche K = ?",
      "options": [
        "2 √©lectrons max",
        "8 √©lectrons max",
        "18 √©lectrons max",
        "32 √©lectrons max"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Couche L = ?",
      "options": [
        "8 √©lectrons max",
        "2",
        "18",
        "32"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "Couche M = ?",
      "options": [
        "18 √©lectrons max",
        "2",
        "8",
        "32"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√âlectron libre dans un m√©tal ?",
      "options": [
        "Peut se d√©placer ",
        "Bloqu√©",
        "Dans le noyau",
        "Non existant"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Qu‚Äôest-ce que la configuration √©lectronique ?",
      "options": [
        "R√©partition des √©lectrons dans les couches",
        "Nombre de neutrons",
        "Nombre de protons",
        "Nombre de nucl√©ons"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Ion polyatomique ?",
      "options": [
        "Plusieurs atomes li√©s avec charge",
        "Un seul atome charg√©",
        "√âlectron libre",
        "Neutron libre"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Nombre de neutrons dans l‚Äôuranium 238 ?",
      "options": [
        "146",
        "92",
        "238",
        "146 ou 92"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Isotope stable de l‚Äôhydrog√®ne ?",
      "options": [
        "Protium",
        "Deut√©rium",
        "Tritium",
        "Hydrog√®ne-4"
      ],
      "answer": 0,
      "difficulty": "facile"
    },
    {
      "text": "√ânergie de liaison nucl√©aire ?",
      "options": [
        "√ânergie qui maintient le noyau",
        "√ânergie cin√©tique",
        "√ânergie potentielle",
        "√ânergie √©lectrique"
      ],
      "answer": 0,
      "difficulty": "difficile"
    },
    {
      "text": "Rayonnement alpha ?",
      "options": [
        "2 protons + 2 neutrons",
        "Un √©lectron",
        "Un neutron",
        "Un proton"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Rayonnement b√™ta ?",
      "options": [
        "√âlectron ou positron",
        "Alpha",
        "Gamma",
        "Proton"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Rayonnement gamma ?",
      "options": [
        "Rayonnement √©lectromagn√©tique",
        "Particule",
        "Neutron",
        "Electron"
      ],
      "answer": 0,
      "difficulty": "moyen"
    },
    {
      "text": "Masse neutron ?",
      "options": [
        "Approximativement 1 u.m.a.",
        "Nulle",
        "√âgale √† celle du proton",
        "√âgale √† celle de l'√©lectron"
      ],
      "answer": 0,
      "difficulty": "moyen"
    }
  ]
}

const { createApp } = Vue;

createApp({
    data() {
        return {
            questions: [],
            reponses: [],
            scoreFinal: 0,
            resultatsVisible: false,
            NOMBRE_QUESTIONS: 20
        };
    },

    computed: {
        commentaireGlobal() {
            const p = (this.scoreFinal / this.questions.length) * 100;
            if (p === 100) return "Excellent ! Bravo üëè";
            if (p >= 80) return "Tr√®s bon travail !";
            if (p >= 60) return "Correct, continue ainsi.";
            if (p >= 40) return "Peut mieux faire.";
            return "R√©vise davantage pour progresser.";
        }
    },

    methods: {
        // Style dynamique pour r√©sultat
        celluleStyle(i) {
            return this.reponses[i] == this.questions[i].answer
                ? "background:#d4edda; color:#155724;"
                : "background:#f8d7da; color:#721c24;";
        },

        texteReponseEleve(i) {
            return this.reponses[i] == null 
                ? "Aucune r√©ponse" 
                : this.questions[i].options[this.reponses[i]];
        },

        corrigerQuiz() {
            this.scoreFinal = 0;

            this.questions.forEach((q, i) => {
                if (this.reponses[i] == q.answer) this.scoreFinal++;
            });

            this.resultatsVisible = true;
        },

        // PDF
        genererPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            doc.setFontSize(16);
            doc.text("R√©sultats du Quiz - 1√®re Ann√©e", 10, 15);
            doc.setFontSize(12);
            doc.text(`Score Final : ${this.scoreFinal} / ${this.questions.length}`, 10, 25);
            doc.text(`Commentaire : ${this.commentaireGlobal}`, 10, 33);

            doc.autoTable({
                startY: 40,
                head: [['Question', 'Votre r√©ponse', 'Bonne r√©ponse', 'Statut']],
                body: this.questions.map((q,i)=>[
                    q.text,
                    this.texteReponseEleve(i),
                    q.options[q.answer],
                    this.reponses[i] == q.answer ? "‚úî Correct" : "‚úò Incorrect"
                ]),
                theme: 'grid'
            });

            doc.save("Resultats_Quiz.pdf");
        },

        chargerQuestions() {
            // Puisque le JSON est maintenant int√©gr√©, on l'utilise directement
            let allQuestions = [
                ...(questionData.mecanique || []),
                ...(questionData.electricite || []),
                ...(questionData.atomes || []),
                // L'objet 'reactions' n'existe pas dans le JSON fourni, on le laisse mais il sera vide.
                ...(questionData.reactions || []) 
            ];

            allQuestions = allQuestions.sort(() => Math.random() - 0.5);
            allQuestions = allQuestions.slice(0, this.NOMBRE_QUESTIONS);

            // M√©lange des options pour chaque question
            allQuestions = allQuestions.map(q => {
                const optMel = q.options.map((opt, i) => ({
                    text: opt,
                    originalIndex: i
                })).sort(() => Math.random() - 0.5);
                
                return {
                    ...q,
                    optionsMelangees: optMel
                };
            });
            this.questions = allQuestions;
            this.reponses = Array(this.questions.length).fill(null);
        }
    },

    mounted() {
        this.chargerQuestions();
    }
}).mount('#app');
</script>
</body>
</html>